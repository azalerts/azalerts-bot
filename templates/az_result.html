<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Resultaat • AZAlerts</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <style>
    :root{
      --az-red:#e10600; --az-dark:#0c0c0d; --az-gray:#f6f7f9; --az-border:#e7e8ea;
      --radius:14px;
    }
    body{background:var(--az-gray); color:var(--az-dark);}
    .container { max-width: 780px; margin: 2rem auto; padding: 0 1rem; }
    .panel{ background:#fff; border:1px solid var(--az-border); border-radius:var(--radius); padding:1rem 1.2rem; box-shadow:0 1px 2px rgba(0,0,0,.04);}
    .tools { display:flex; gap:.5rem; align-items:center; margin-bottom:.6rem; }
    .btn { padding:.6rem .9rem; border-radius:12px; border:1px solid var(--az-border); background:#fff; cursor:pointer; font-weight:650; }
    .btn:focus { outline:2px solid var(--az-red); outline-offset:1px; }
    textarea { width:100%; min-height: 130px; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; line-height:1.55; }
    .hint { color:#5f6368; font-size:.95rem; }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <img src="{{ url_for('static', filename='img/azalerts-logo.png') }}" alt="AZAlerts" class="brand-logo" />
      <span>AZAlerts</span>
    </div>
    <nav><a href="/">Nieuwe URL</a></nav>
  </header>

  <main class="container">
    {% with msgs = get_flashed_messages() %}
      {% if msgs %}
        <div class="panel" style="border-left:4px solid var(--az-red);"><div>
          {% for m in msgs %}<p style="margin:.3rem 0;">{{ m }}</p>{% endfor %}
        </div></div>
      {% endif %}
    {% endwith %}

    {% if result and result.title %}
      <section class="panel" style="margin-bottom:.9rem;">
        <div class="tools">
          <button type="button" id="copyTitleBtn" class="btn">Kopieer titel</button>
        </div>
        <textarea id="titleBox" rows="2" aria-label="Titel">{{ result.title }}</textarea>
      </section>
    {% endif %}

    <section class="panel">
      <div class="tools">
        <button type="button" id="copyTextBtn" class="btn">Kopieer tekst</button>
      </div>
      <textarea id="resultBox" rows="18" aria-label="Parafraseerde tekst">{{ output_text }}</textarea>
      <p class="hint" style="margin-top:.6rem;">Tip: selecteer alles met ⌘A / Ctrl+A en kopieer met ⌘C / Ctrl+C.</p>
      <p class="hint" style="margin-top:.2rem;"><a href="/">← Parafraseer nog een artikel</a></p>
    </section>
  </main>

  <script>
    (function(){
      const titleBox = document.getElementById('titleBox');
      const copyTitleBtn = document.getElementById('copyTitleBtn');
      const textBox = document.getElementById('resultBox');
      const copyTextBtn = document.getElementById('copyTextBtn');

      async function copyEl(el) {
        el.select();
        try { await navigator.clipboard.writeText(el.value); }
        catch(_) { document.execCommand('copy'); }
      }

      copyTitleBtn?.addEventListener('click', () => copyEl(titleBox));
      copyTextBtn?.addEventListener('click', () => copyEl(textBox));
    })();
  </script>
</body>
</html>
